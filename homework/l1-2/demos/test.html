<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<title>Chapter 2. line</title>
		<!-- 顶点着色器和片元着色器代码 -->
		<script id="vertex-shader" type="x-shader/x-vertex">
			attribute vec3 vPosition;
			attribute vec4 vColor;
			varying vec4 colors;
			void main(){
				gl_Position = vec4(vPosition,2.0);
				colors = vColor;
			}
		</script>
		<script id="fragment-shader" type="x-shader/x-fragment">
			precision mediump float;
			varying vec4 colors;
			void main(){
				gl_FragColor = colors;
			}
		</script>
		<!-- 一组相关的JS库 -->
		<script type="text/javascript" src="../js/common/webgl-utils.js"></script>
		<script type="text/javascript" src="../js/common/initShaders.js"></script>
		<script type="text/javascript" src="../js/common/gl-matrix-min.js"></script>
		<!-- 绘制三角形的JS代码 -->
		<script type="text/javascript" src="../../js/ch02/test.js"></script>
		
	</head>
	<body>
		<div style="float: left;">
			<canvas id="gl-canvas" style="border:2px solid darkgray;" width="600" height="600"></canvas>
		</div>
		<table border="2">
			<tr>
				<td>
					<p>1.请先选择图形显现的类型--></p>
				</td>
				<td>
					<select id="sel"  size="3">
						<option value="0">2D线状三角图形</option>
						<option value="1">3D立体图形</option>
						<option value="2">2D平面图形</option>
					</select>
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<p>2.根据您对<b>第一步</b>的选择，若选择<b>“2D线状三角形图形”</b></br>&nbsp &nbsp请拉动下面的滑动条分别用以<b>控制2D线状三角形图形层数和旋转角度</b></p>
				</td>
			</tr>
			<tr>
				<td style="text-align: center;">
					图形层数: <input id="slide3" name="line" type="range" min="0" max="7" value="0" onchange="fchange3();initTriangles_rota();colors=[];" />
				</td>
				<td style="text-align: center;">
					目前的层数是<input type="text" id="showslide3" value="0" style="text-align: center; width: 1rem; border: none;"/>层
				</td>
			</tr>
			<tr>
				<td style="text-align: center;">
					旋转角度: <input id="rota" name="rota" type="range" min="0" max="360" value="0" onchange="frota();initTriangles_rota();colors=[];" />
				</td>
				<td style="text-align: center;">
					目前的角度是<input type="text" id="showrota" value="0" style="text-align: center; width: 1.5rem; border: none;"/>&ordm
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<p>3.根据您对<b>第一步</b>的选择，若选择<b>“3D立体图形”</b></br>&nbsp &nbsp请拉动下面的滑动条用以<b>控制3D立体图形层数</b></p>
				</td>
			</tr>
			<tr>
				<td style="text-align: center;">
					图形层数:<input id="slide2" name="3d" type="range" min="0" max="7" value="0" onchange="fchange2();init();colors=[];" />
				</td>
				<td style="text-align: center;">
					目前的层数是<input type="text" id="showslide2" value="0" style="text-align: center; width: 1rem; border: none;"/>层
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<p>4.根据您对<b>第一步</b>的选择，若选择<b>“2D平面图形”</b></br>&nbsp &nbsp请拉动下面的滑动条用以<b>控制2D平面图形层数</p>
				</td>
			</tr>
			<tr>
				<td style="text-align: center;">
					图形层数:<input id="slide" name="2d" type="range" min="0" max="7" value="0" onchange="fchange();initTriangles();colors=[];" />
				</td>
				<td style="text-align: center;">
					目前的层数是<input type="text" id="showslide" value="0" style="text-align: center; width: 1rem; border: none;"/>层
				</td>
			</tr>
			<tr>
				<td colspan="2">
					<p><b>注:在确定层数和旋转角度后，对操作1进行选择可以实现3D-2D等图形的切换</b></p>
				</td>
			</tr>
		</table>
		
		
		
		<script type="text/javascript">
			document.getElementById("sel").onclick = function(){
				switch(event.srcElement.index){
					case 0 :
						colors = [];
						initTriangles_rota();
					break;
					case 1:
						colors = [];
						init();
					break;
					case 2:
						colors = [];
						initTriangles();
					break;
				}
			};
		</script>
		<script type="text/javascript">
			document.getElementById("slide3").onchange = function(){
				var a = document.getElementById("slide3");
				var b = document.getElementById("showslide3");
				b.value = a.value;
				fchange3();
				initTriangles_rota();
				colors=[];
			}
		</script>
		<script type="text/javascript">
			document.getElementById("slide2").onchange = function(){
				var a = document.getElementById("slide2");
				var b = document.getElementById("showslide2");
				b.value = a.value;
				fchange2();
				init();
				colors=[];
			}
		</script>
		<script type="text/javascript">
			document.getElementById("slide").onchange = function(){
				var a = document.getElementById("slide");
				var b = document.getElementById("showslide");
				b.value = a.value;
				fchange();
				initTriangles();
				colors=[];
			}
		</script>
		<script type="text/javascript">
			document.getElementById("rota").onchange = function(){
				var a = document.getElementById("rota");
				var b = document.getElementById("showrota");
				b.value = a.value;
				frota();
				initTriangles_rota();
				colors=[];
			}
		</script>
	</body>
</html>
